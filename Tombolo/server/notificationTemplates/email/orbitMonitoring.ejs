<!-- Note : 
  1. This is a sample email template, Use this template as a reference to create your own template.
  2. All variables passed into the function should be defined. If any variable is undefined, it should default to a predetermined value.
  3. All E-mail clients do not support external css file, Therefore we have to use inline css - 
     although its repetitive and not a good practice. 
-->
<!DOCTYPE html>
<html>
  <head>
    <style>
      .container {
        margin: 10px;
        padding: 20px;
      }
      .section {
        margin-top: 15px;
      }
      .greeting {
        margin-bottom: 10px;
      }
      .signature {
        margin-top: 15px;
      }
      .footer {
        margin-top: 30px;
        font-size: 12px;
        color: #999;
      }
      .alert-header {
        background-color: #f8d7da;
        color: #721c24;
        padding: 10px;
        border: 1px solid #f5c6cb;
        border-radius: 4px;
        margin-bottom: 15px;
      }
      .build-info {
        background-color: #f8f9fa;
        padding: 15px;
        border: 1px solid #dee2e6;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="alert-header">
        <strong>ðŸš¨ Orbit Build Monitoring Alert</strong>
      </div>

      <div class="section">
        <div class="greeting">Hello,</div>
        <p>An Orbit build monitoring alert has been triggered for <strong><%= typeof buildName !== 'undefined' ? buildName : "Unknown Build" %></strong>.</p>
        
        <% if (typeof issue !== 'undefined' && issue) { %>
          <p><strong>Issue:</strong> Analysis detected a monitored build returning non-successful status</p>
        <% } %>
      </div>

      <div class="section">
        <div class="build-info">
          <h3>Build Details:</h3>
          <table style="width: 100%; border-collapse: collapse;">
            <tr>
              <td style="padding: 5px; font-weight: bold; width: 30%;">Build Name:</td>
              <td style="padding: 5px;"><%= typeof buildName !== 'undefined' ? buildName : "N/A" %></td>
            </tr>
            <tr>
              <td style="padding: 5px; font-weight: bold;">Status:</td>
              <td style="padding: 5px;"><%= typeof status !== 'undefined' ? status : "N/A" %></td>
            </tr>
            <tr>
              <td style="padding: 5px; font-weight: bold;">Host:</td>
              <td style="padding: 5px;"><%= typeof host !== 'undefined' ? host : "N/A" %></td>
            </tr>
            <tr>
              <td style="padding: 5px; font-weight: bold;">Product:</td>
              <td style="padding: 5px;"><%= typeof product !== 'undefined' ? product : "N/A" %></td>
            </tr>
            <tr>
              <td style="padding: 5px; font-weight: bold;">Business Unit:</td>
              <td style="padding: 5px;"><%= typeof businessUnit !== 'undefined' ? businessUnit : "N/A" %></td>
            </tr>
            <tr>
              <td style="padding: 5px; font-weight: bold;">Severity:</td>
              <td style="padding: 5px;"><%= typeof severityCode !== 'undefined' ? severityCode : "N/A" %></td>
            </tr>
            <tr>
              <td style="padding: 5px; font-weight: bold;">Work Unit:</td>
              <td style="padding: 5px;"><%= typeof workUnit !== 'undefined' ? workUnit : "N/A" %></td>
            </tr>
          </table>
        </div>
      </div>

      <% if (typeof remedy !== 'undefined' && remedy) { %>
        <div class="section">
          <h3>Action Required:</h3>
          <p><%- remedy %></p>
        </div>
      <% } %>

      <div class="signature">
        Best regards,<br>
        Tombolo Monitoring System
      </div>
      
      <div class="footer">
        You are receiving this message because you are part of the Orbit build monitoring notification list. 
        To stop getting these alerts please contact the administrator.
      </div>
    </div>
  </body>
</html>
